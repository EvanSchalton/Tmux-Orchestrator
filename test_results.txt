============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /usr/local/python/current/bin/python
cachedir: .pytest_cache
rootdir: /workspaces/Tmux-Orchestrator
configfile: pytest.ini
testpaths: tests
plugins: anyio-3.7.1, cov-6.2.1
collecting ... collected 186 items

tests/test_cli/agent_test.py::test_agent_restart_success PASSED          [  0%]
tests/test_cli/agent_test.py::test_agent_restart_failure PASSED          [  1%]
tests/test_cli/agent_test.py::test_agent_message_success PASSED          [  1%]
tests/test_cli/agent_test.py::test_agent_message_failure PASSED          [  2%]
tests/test_cli/agent_test.py::test_agent_attach_success PASSED           [  2%]
tests/test_cli/agent_test.py::test_agent_deploy_success PASSED           [  3%]
tests/test_cli/agent_test.py::test_agent_status_success PASSED           [  3%]
tests/test_cli/agent_test.py::test_agent_group_exists PASSED             [  4%]
tests/test_cli/agent_test.py::test_restart_function_direct PASSED        [  4%]
tests/test_cli/agent_test.py::test_message_function_direct PASSED        [  5%]
tests/test_cli/test_execute.py::test_execute_with_prd_file FAILED        [  5%]
tests/test_cli/test_execute.py::test_execute_existing_project FAILED     [  6%]
tests/test_cli/test_execute.py::test_execute_with_team_type FAILED       [  6%]
tests/test_cli/test_execute.py::test_execute_skip_team_planning FAILED   [  7%]
tests/test_cli/test_execute.py::test_execute_with_agent_count FAILED     [  8%]
tests/test_cli/test_execute.py::test_execute_nonexistent_file FAILED     [  8%]
tests/test_cli/test_execute.py::test_execute_distribute_tasks FAILED     [  9%]
tests/test_cli/test_execute.py::test_execute_function_exists FAILED      [  9%]
tests/test_cli/test_monitor.py::test_monitor_start_success FAILED        [ 10%]
tests/test_cli/test_monitor.py::test_monitor_start_already_running FAILED [ 10%]
tests/test_cli/test_monitor.py::test_monitor_stop_success FAILED         [ 11%]
tests/test_cli/test_monitor.py::test_monitor_stop_not_running PASSED     [ 11%]
tests/test_cli/test_monitor.py::test_monitor_status_running FAILED       [ 12%]
tests/test_cli/test_monitor.py::test_monitor_status_not_running PASSED   [ 12%]
tests/test_cli/test_monitor.py::test_monitor_restart FAILED              [ 13%]
tests/test_cli/test_monitor.py::test_monitor_check_once FAILED           [ 13%]
tests/test_cli/test_monitor.py::test_monitor_loop_function FAILED        [ 14%]
tests/test_cli/test_monitor.py::test_monitor_with_custom_interval FAILED [ 15%]
tests/test_cli/test_monitor.py::test_monitor_group_exists FAILED         [ 15%]
tests/test_cli/test_orchestrator.py::test_orchestrator_start_new_session FAILED [ 16%]
tests/test_cli/test_orchestrator.py::test_orchestrator_start_existing_session FAILED [ 16%]
tests/test_cli/test_orchestrator.py::test_orchestrator_stop FAILED       [ 17%]
tests/test_cli/test_orchestrator.py::test_orchestrator_stop_not_running FAILED [ 17%]
tests/test_cli/test_orchestrator.py::test_orchestrator_restart FAILED    [ 18%]
tests/test_cli/test_orchestrator.py::test_orchestrator_status_running FAILED [ 18%]
tests/test_cli/test_orchestrator.py::test_orchestrator_status_not_running FAILED [ 19%]
tests/test_cli/test_orchestrator.py::test_orchestrator_attach FAILED     [ 19%]
tests/test_cli/test_orchestrator.py::test_orchestrator_attach_not_running FAILED [ 20%]
tests/test_cli/test_orchestrator.py::test_orchestrator_group_exists FAILED [ 20%]
tests/test_cli/test_recovery.py::test_recovery_check_all_healthy FAILED  [ 21%]
tests/test_cli/test_recovery.py::test_recovery_check_with_unhealthy FAILED [ 22%]
tests/test_cli/test_recovery.py::test_recovery_check_auto_restart FAILED [ 22%]
tests/test_cli/test_recovery.py::test_recovery_discover FAILED           [ 23%]
tests/test_cli/test_recovery.py::test_recovery_restore_specific_agent FAILED [ 23%]
tests/test_cli/test_recovery.py::test_recovery_restore_all_in_session FAILED [ 24%]
tests/test_cli/test_recovery.py::test_recovery_history FAILED            [ 24%]
tests/test_cli/test_recovery.py::test_recovery_history_specific_session FAILED [ 25%]
tests/test_cli/test_recovery.py::test_recovery_group_exists FAILED       [ 25%]
tests/test_cli/test_setup.py::test_setup_command PASSED                  [ 26%]
tests/test_cli/test_setup.py::test_setup_tmux_not_installed PASSED       [ 26%]
tests/test_cli/test_setup.py::test_setup_vscode_creates_structure PASSED [ 27%]
tests/test_cli/test_setup.py::test_setup_vscode_existing_tasks PASSED    [ 27%]
tests/test_cli/test_setup.py::test_setup_vscode_with_project_path PASSED [ 28%]
tests/test_cli/test_setup.py::test_setup_vscode_invalid_json PASSED      [ 29%]
tests/test_cli/test_tasks.py::test_tasks_create_new_project PASSED       [ 29%]
tests/test_cli/test_tasks.py::test_tasks_create_with_prd_import FAILED   [ 30%]
tests/test_cli/test_tasks.py::test_tasks_create_existing_project FAILED  [ 30%]
tests/test_cli/test_tasks.py::test_tasks_status PASSED                   [ 31%]
tests/test_cli/test_tasks.py::test_tasks_status_nonexistent_project FAILED [ 31%]
tests/test_cli/test_tasks.py::test_tasks_list PASSED                     [ 32%]
tests/test_cli/test_tasks.py::test_tasks_distribute FAILED               [ 32%]
tests/test_cli/test_tasks.py::test_tasks_export FAILED                   [ 33%]
tests/test_cli/test_tasks.py::test_tasks_archive FAILED                  [ 33%]
tests/test_cli/test_tasks.py::test_tasks_generate FAILED                 [ 34%]
tests/test_cli/test_tasks.py::test_tasks_group_exists PASSED             [ 34%]
tests/test_cli/test_team.py::test_team_deploy_frontend FAILED            [ 35%]
tests/test_cli/test_team.py::test_team_deploy_backend FAILED             [ 36%]
tests/test_cli/test_team.py::test_team_deploy_custom FAILED              [ 36%]
tests/test_cli/test_team.py::test_team_status_all FAILED                 [ 37%]
tests/test_cli/test_team.py::test_team_status_specific_session FAILED    [ 37%]
tests/test_cli/test_team.py::test_team_list FAILED                       [ 38%]
tests/test_cli/test_team.py::test_team_broadcast FAILED                  [ 38%]
tests/test_cli/test_team.py::test_team_broadcast_with_failures FAILED    [ 39%]
tests/test_cli/test_team.py::test_team_recover FAILED                    [ 39%]
tests/test_cli/test_team.py::test_team_coordinate FAILED                 [ 40%]
tests/test_cli/test_team.py::test_team_group_exists FAILED               [ 40%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_success PASSED [ 41%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_invalid_target_format PASSED [ 41%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_session_not_found PASSED [ 42%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_target_parsing[frontend:0-frontend-0] PASSED [ 43%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_target_parsing[backend-dev:1-backend-dev-1] PASSED [ 43%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_target_parsing[project-manager:10-project-manager-10] PASSED [ 44%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_empty_target PASSED [ 44%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_colon_only_target PASSED [ 45%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_healthy_agent FAILED [ 45%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_unhealthy_agent FAILED [ 46%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_invalid_target_format PASSED [ 46%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_failure_count_reset FAILED [ 47%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_exception_handling PASSED [ 47%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_agent_health_status_namedtuple_structure PASSED [ 48%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_critical_error FAILED [ 48%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_max_failures FAILED [ 49%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_extended_unresponsiveness FAILED [ 50%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_healthy_agent FAILED [ 50%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_invalid_target_format PASSED [ 51%]
tests/test_core/test_recovery/detect_failure_test.py::TestCheckIdleStatusV2::test_check_idle_status_agent_is_idle PASSED [ 51%]
tests/test_core/test_recovery/detect_failure_test.py::TestCheckIdleStatusV2::test_check_idle_status_agent_is_active PASSED [ 52%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasCriticalErrors::test_has_critical_errors_with_error PASSED [ 52%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasCriticalErrors::test_has_critical_errors_without_error PASSED [ 53%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasCriticalErrors::test_has_critical_errors_case_insensitive PASSED [ 53%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasNormalClaudeInterface::test_has_normal_claude_interface_with_prompt PASSED [ 54%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasNormalClaudeInterface::test_has_normal_claude_interface_with_assistant_marker PASSED [ 54%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasNormalClaudeInterface::test_has_normal_claude_interface_without_markers PASSED [ 55%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_finds_claude_agents PASSED [ 55%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_excludes_sessions PASSED [ 56%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_empty_sessions PASSED [ 56%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_exception_handling PASSED [ 57%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_default_excludes PASSED [ 58%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_strong_indicators PASSED [ 58%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_medium_indicators PASSED [ 59%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_claude_name_and_medium PASSED [ 59%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_insufficient_indicators PASSED [ 60%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_empty_content PASSED [ 60%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_exception_handling PASSED [ 61%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_success PASSED [ 61%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_send_message_failure PASSED [ 62%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_invalid_target_format PASSED [ 62%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_with_context_data PASSED [ 63%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_exception_handling PASSED [ 63%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_basic PASSED [ 64%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_with_context_data PASSED [ 65%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_contains_timestamp PASSED [ 65%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_empty_context_data PASSED [ 66%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_success PASSED [ 66%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_session_not_found PASSED [ 67%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_no_agents PASSED [ 67%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_partial_failure PASSED [ 68%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_all_failures PASSED [ 68%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names0-0] PASSED [ 69%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names1-1] PASSED [ 69%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names2-1] PASSED [ 70%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names3-2] PASSED [ 70%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names4-2] PASSED [ 71%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names5-2] PASSED [ 72%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_result_structure PASSED [ 72%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_success PASSED [ 73%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_session_not_found PASSED [ 73%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_session_info_not_found PASSED [ 74%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_no_windows PASSED [ 74%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Claude-Frontend-Frontend Dev] PASSED [ 75%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[claude-backend-Backend Dev] PASSED [ 75%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[PM-Window-Project Manager] PASSED [ 76%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[qa-test-QA Engineer] PASSED [ 76%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Dev-Server-Dev Server] PASSED [ 77%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Shell-Window-Shell] PASSED [ 77%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Random-Window-Other] PASSED [ 78%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Working on code...-False-Active-Working...] PASSED [ 79%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Waiting for input-True-Idle-Waiting for task] PASSED [ 79%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Error: failed to compile-False-Error-Has errors] PASSED [ 80%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Task completed successfully-False-Complete-Task completed] PASSED [ 80%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_agent_counting PASSED [ 81%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_success PASSED [ 81%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_empty PASSED [ 82%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_no_windows PASSED [ 82%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names0-0] PASSED [ 83%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names1-0] PASSED [ 83%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names2-1] PASSED [ 84%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names3-1] PASSED [ 84%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names4-2] PASSED [ 85%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names5-2] PASSED [ 86%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[1-Active] PASSED [ 86%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[0-Detached] PASSED [ 87%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[None-Active] PASSED [ 87%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[-Active] PASSED [ 88%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_missing_created_field PASSED [ 88%]
tests/test_integration/test_end_to_end.py::test_complete_prd_workflow ERROR [ 89%]
tests/test_integration/test_end_to_end.py::test_task_management_workflow ERROR [ 89%]
tests/test_integration/test_end_to_end.py::test_team_deployment_and_recovery ERROR [ 90%]
tests/test_integration/test_end_to_end.py::test_monitoring_workflow ERROR [ 90%]
tests/test_integration/test_end_to_end.py::test_agent_communication_workflow ERROR [ 91%]
tests/test_integration/test_end_to_end.py::test_project_archival_workflow ERROR [ 91%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_empty_session_name PASSED [ 92%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_invalid_agent_type PASSED [ 93%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_new_session_success PASSED [ 93%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_existing_session_success PASSED [ 94%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_session_creation_fails PASSED [ 94%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_window_creation_fails PASSED [ 95%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_send_keys_fails PASSED [ 95%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_exception_handling PASSED [ 96%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[developer] PASSED [ 96%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[pm] PASSED [ 97%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[qa] PASSED [ 97%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[devops] PASSED [ 98%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[reviewer] PASSED [ 98%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[researcher] PASSED [ 99%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[docs] PASSED [100%]

==================================== ERRORS ====================================
_________________ ERROR at setup of test_complete_prd_workflow _________________
tests/test_integration/test_end_to_end.py:26: in mock_tmux
    mock.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_______________ ERROR at setup of test_task_management_workflow ________________
tests/test_integration/test_end_to_end.py:26: in mock_tmux
    mock.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_____________ ERROR at setup of test_team_deployment_and_recovery ______________
tests/test_integration/test_end_to_end.py:26: in mock_tmux
    mock.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
__________________ ERROR at setup of test_monitoring_workflow __________________
tests/test_integration/test_end_to_end.py:26: in mock_tmux
    mock.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_____________ ERROR at setup of test_agent_communication_workflow ______________
tests/test_integration/test_end_to_end.py:26: in mock_tmux
    mock.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_______________ ERROR at setup of test_project_archival_workflow _______________
tests/test_integration/test_end_to_end.py:26: in mock_tmux
    mock.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
=================================== FAILURES ===================================
__________________________ test_execute_with_prd_file __________________________
tests/test_cli/test_execute.py:71: in test_execute_with_prd_file
    with patch("tmux_orchestrator.cli.execute.generate_tasks_from_prd") as mock_gen_tasks:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
________________________ test_execute_existing_project _________________________
tests/test_cli/test_execute.py:140: in test_execute_existing_project
    with patch("tmux_orchestrator.core.team_manager.TeamManager") as mock_team_mgr:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
_________________________ test_execute_with_team_type __________________________
tests/test_cli/test_execute.py:156: in test_execute_with_team_type
    with patch("tmux_orchestrator.core.team_manager.TeamManager") as mock_team_mgr:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
_______________________ test_execute_skip_team_planning ________________________
tests/test_cli/test_execute.py:172: in test_execute_skip_team_planning
    with patch("tmux_orchestrator.cli.execute.generate_tasks_from_prd") as mock_gen_tasks:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
________________________ test_execute_with_agent_count _________________________
tests/test_cli/test_execute.py:192: in test_execute_with_agent_count
    with patch("tmux_orchestrator.cli.execute.generate_tasks_from_prd"):
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
________________________ test_execute_nonexistent_file _________________________
tests/test_cli/test_execute.py:220: in test_execute_nonexistent_file
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
________________________ test_execute_distribute_tasks _________________________
tests/test_cli/test_execute.py:226: in test_execute_distribute_tasks
    with patch("tmux_orchestrator.cli.execute.generate_tasks_from_prd") as mock_gen_tasks:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
_________________________ test_execute_function_exists _________________________
tests/test_cli/test_execute.py:258: in test_execute_function_exists
    assert "agents" in param_names
E   AssertionError: assert 'agents' in ['prd_file', 'project_name', 'team_size', 'team_type', 'no_monitor', 'skip_planning']
__________________________ test_monitor_start_success __________________________
tests/test_cli/test_monitor.py:43: in test_monitor_start_success
    with patch("tmux_orchestrator.cli.monitor.run_monitor_loop") as _mock_loop:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.monitor' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py'> does not have the attribute 'run_monitor_loop'
______________________ test_monitor_start_already_running ______________________
tests/test_cli/test_monitor.py:66: in test_monitor_start_already_running
    assert result.exit_code == 0
E   AssertionError: assert 1 == 0
E    +  where 1 = <Result FileNotFoundError('Monitor script not found: /workspaces/Tmux-Orchestrator/commands/idle-monitor-daemon.sh')>.exit_code
__________________________ test_monitor_stop_success ___________________________
tests/test_cli/test_monitor.py:81: in test_monitor_stop_success
    assert "Stopping monitor daemon" in result.output
E   AssertionError: assert 'Stopping monitor daemon' in 'Monitor is not running\n'
E    +  where 'Monitor is not running\n' = <Result okay>.output
_________________________ test_monitor_status_running __________________________
tests/test_cli/test_monitor.py:110: in test_monitor_status_running
    assert "12345" in result.output
E   AssertionError: assert '12345' in '\u2717 Monitor is not running\n'
E    +  where '\u2717 Monitor is not running\n' = <Result okay>.output
_____________________________ test_monitor_restart _____________________________
tests/test_cli/test_monitor.py:132: in test_monitor_restart
    with patch("tmux_orchestrator.cli.monitor.run_monitor_loop"):
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.monitor' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py'> does not have the attribute 'run_monitor_loop'
___________________________ test_monitor_check_once ____________________________
tests/test_cli/test_monitor.py:169: in test_monitor_check_once
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
__________________________ test_monitor_loop_function __________________________
tests/test_cli/test_monitor.py:177: in test_monitor_loop_function
    from tmux_orchestrator.cli.monitor import run_monitor_loop
E   ImportError: cannot import name 'run_monitor_loop' from 'tmux_orchestrator.cli.monitor' (/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py)
______________________ test_monitor_with_custom_interval _______________________
tests/test_cli/test_monitor.py:203: in test_monitor_with_custom_interval
    with patch("tmux_orchestrator.cli.monitor.run_monitor_loop") as mock_loop:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.monitor' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py'> does not have the attribute 'run_monitor_loop'
__________________________ test_monitor_group_exists ___________________________
tests/test_cli/test_monitor.py:221: in test_monitor_group_exists
    assert expected_commands.issubset(set(command_names))
E   AssertionError: assert False
E    +  where False = <built-in method issubset of set object at 0x7fdb31d91a80>({'recovery-logs', 'recovery-status', 'start', 'recovery-start', 'logs', 'dashboard', 'status', 'stop', 'recovery-stop'})
E    +    where <built-in method issubset of set object at 0x7fdb31d91a80> = {'restart', 'check', 'status', 'start', 'stop'}.issubset
E    +    and   {'recovery-logs', 'recovery-status', 'start', 'recovery-start', 'logs', 'dashboard', 'status', 'stop', 'recovery-stop'} = set(['start', 'stop', 'logs', 'status', 'recovery-start', 'recovery-stop', 'recovery-status', 'recovery-logs', 'dashboard'])
_____________________ test_orchestrator_start_new_session ______________________
tests/test_cli/test_orchestrator.py:27: in test_orchestrator_start_new_session
    mock_tmux.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
___________________ test_orchestrator_start_existing_session ___________________
tests/test_cli/test_orchestrator.py:49: in test_orchestrator_start_existing_session
    mock_tmux.session_exists.return_value = True
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
____________________________ test_orchestrator_stop ____________________________
tests/test_cli/test_orchestrator.py:71: in test_orchestrator_stop
    mock_tmux.session_exists.return_value = True
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
______________________ test_orchestrator_stop_not_running ______________________
tests/test_cli/test_orchestrator.py:83: in test_orchestrator_stop_not_running
    mock_tmux.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
__________________________ test_orchestrator_restart ___________________________
tests/test_cli/test_orchestrator.py:94: in test_orchestrator_restart
    mock_tmux.session_exists.side_effect = [True, False]
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_______________________ test_orchestrator_status_running _______________________
tests/test_cli/test_orchestrator.py:112: in test_orchestrator_status_running
    mock_tmux.session_exists.return_value = True
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_____________________ test_orchestrator_status_not_running _____________________
tests/test_cli/test_orchestrator.py:131: in test_orchestrator_status_not_running
    mock_tmux.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
___________________________ test_orchestrator_attach ___________________________
tests/test_cli/test_orchestrator.py:142: in test_orchestrator_attach
    mock_tmux.session_exists.return_value = True
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
_____________________ test_orchestrator_attach_not_running _____________________
tests/test_cli/test_orchestrator.py:156: in test_orchestrator_attach_not_running
    mock_tmux.session_exists.return_value = False
    ^^^^^^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:653: in __getattr__
    raise AttributeError("Mock object has no attribute %r" % name)
E   AttributeError: Mock object has no attribute 'session_exists'
________________________ test_orchestrator_group_exists ________________________
tests/test_cli/test_orchestrator.py:172: in test_orchestrator_group_exists
    assert expected_commands.issubset(set(command_names))
E   AssertionError: assert False
E    +  where False = <built-in method issubset of set object at 0x7fdb31d927a0>({'schedule', 'kill', 'start', 'broadcast', 'list', 'status', 'kill-all'})
E    +    where <built-in method issubset of set object at 0x7fdb31d927a0> = {'restart', 'attach', 'status', 'start', 'stop'}.issubset
E    +    and   {'schedule', 'kill', 'start', 'broadcast', 'list', 'status', 'kill-all'} = set(['start', 'schedule', 'status', 'list', 'kill', 'kill-all', 'broadcast'])
_______________________ test_recovery_check_all_healthy ________________________
tests/test_cli/test_recovery.py:40: in test_recovery_check_all_healthy
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
______________________ test_recovery_check_with_unhealthy ______________________
tests/test_cli/test_recovery.py:65: in test_recovery_check_with_unhealthy
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
_______________________ test_recovery_check_auto_restart _______________________
tests/test_cli/test_recovery.py:92: in test_recovery_check_auto_restart
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
____________________________ test_recovery_discover ____________________________
tests/test_cli/test_recovery.py:135: in test_recovery_discover
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
_____________________ test_recovery_restore_specific_agent _____________________
tests/test_cli/test_recovery.py:153: in test_recovery_restore_specific_agent
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
_____________________ test_recovery_restore_all_in_session _____________________
tests/test_cli/test_recovery.py:175: in test_recovery_restore_all_in_session
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
____________________________ test_recovery_history _____________________________
tests/test_cli/test_recovery.py:182: in test_recovery_history
    with patch("tmux_orchestrator.core.recovery.get_recovery_history") as mock_history:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.core.recovery' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/core/recovery/__init__.py'> does not have the attribute 'get_recovery_history'
____________________ test_recovery_history_specific_session ____________________
tests/test_cli/test_recovery.py:210: in test_recovery_history_specific_session
    with patch("tmux_orchestrator.core.recovery.get_recovery_history") as mock_history:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.core.recovery' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/core/recovery/__init__.py'> does not have the attribute 'get_recovery_history'
__________________________ test_recovery_group_exists __________________________
tests/test_cli/test_recovery.py:235: in test_recovery_group_exists
    assert expected_commands.issubset(set(command_names))
E   AssertionError: assert False
E    +  where False = <built-in method issubset of set object at 0x7fdb3226b300>({'start', 'status', 'stop', 'test'})
E    +    where <built-in method issubset of set object at 0x7fdb3226b300> = {'check', 'history', 'restore', 'discover'}.issubset
E    +    and   {'start', 'status', 'stop', 'test'} = set(['start', 'stop', 'status', 'test'])
______________________ test_tasks_create_with_prd_import _______________________
tests/test_cli/test_tasks.py:87: in test_tasks_create_with_prd_import
    assert "Imported PRD from" in result.output
E   assert 'Imported PRD from' in "  Created initial files\n\u2713 Created project structure for 'test-project'\n\nProject location: /tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project\n\nNext steps:\n1. Edit the PRD: \n/tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project/prd.md\n2. Generate tasks: tmux-orc tasks generate test-project\n3. Distribute tasks: tmux-orc tasks distribute test-project\n"
E    +  where "  Created initial files\n\u2713 Created project structure for 'test-project'\n\nProject location: /tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project\n\nNext steps:\n1. Edit the PRD: \n/tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project/prd.md\n2. Generate tasks: tmux-orc tasks generate test-project\n3. Distribute tasks: tmux-orc tasks distribute test-project\n" = <Result okay>.output
______________________ test_tasks_create_existing_project ______________________
tests/test_cli/test_tasks.py:105: in test_tasks_create_existing_project
    assert "Project test-project already exists" in result.output
E   assert 'Project test-project already exists' in "Project 'test-project' already exists\n"
E    +  where "Project 'test-project' already exists\n" = <Result okay>.output
____________________ test_tasks_status_nonexistent_project _____________________
tests/test_cli/test_tasks.py:129: in test_tasks_status_nonexistent_project
    assert "Project nonexistent not found" in result.output
E   assert 'Project nonexistent not found' in "Project 'nonexistent' not found\n"
E    +  where "Project 'nonexistent' not found\n" = <Result okay>.output
____________________________ test_tasks_distribute _____________________________
tests/test_cli/test_tasks.py:167: in test_tasks_distribute
    assert "Distributed tasks for test-project" in result.output
E   AssertionError: assert 'Distributed tasks for test-project' in 'Distributing 4 tasks across teams...\n  \u2713 Created frontend task list (2 tasks)\n  \u2713 Created backend task list (2 tasks)\n  \u2713 Created qa task list (1 tasks)\n  \u2713 Created test task list (1 tasks)\n\n\u2713 Task distribution complete\n\nNext steps:\n1. Review agent task assignments\n2. Send task files to respective agents\n3. Monitor progress with: tmux-orc tasks status test-project\n'
E    +  where 'Distributing 4 tasks across teams...\n  \u2713 Created frontend task list (2 tasks)\n  \u2713 Created backend task list (2 tasks)\n  \u2713 Created qa task list (1 tasks)\n  \u2713 Created test task list (1 tasks)\n\n\u2713 Task distribution complete\n\nNext steps:\n1. Review agent task assignments\n2. Send task files to respective agents\n3. Monitor progress with: tmux-orc tasks status test-project\n' = <Result okay>.output
______________________________ test_tasks_export _______________________________
tests/test_cli/test_tasks.py:183: in test_tasks_export
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
______________________________ test_tasks_archive ______________________________
tests/test_cli/test_tasks.py:199: in test_tasks_archive
    assert "Archived test-project" in result.output
E   assert 'Archived test-project' in "\u2713 Archived 'test-project' to 'test-project-20250808-214817'\n"
E    +  where "\u2713 Archived 'test-project' to 'test-project-20250808-214817'\n" = <Result okay>.output
_____________________________ test_tasks_generate ______________________________
tests/test_cli/test_tasks.py:225: in test_tasks_generate
    with patch("tmux_orchestrator.cli.tasks.generate_tasks_from_prd") as mock_gen:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1419: in get_original
    raise AttributeError(
E   AttributeError: <module 'tmux_orchestrator.cli.tasks' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/tasks.py'> does not have the attribute 'generate_tasks_from_prd'
__________________________ test_team_deploy_frontend ___________________________
tests/test_cli/test_team.py:26: in test_team_deploy_frontend
    with patch("tmux_orchestrator.core.team_manager.TeamManager") as mock_team_mgr:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
___________________________ test_team_deploy_backend ___________________________
tests/test_cli/test_team.py:43: in test_team_deploy_backend
    with patch("tmux_orchestrator.core.team_manager.TeamManager") as mock_team_mgr:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
___________________________ test_team_deploy_custom ____________________________
tests/test_cli/test_team.py:59: in test_team_deploy_custom
    with patch("tmux_orchestrator.core.team_manager.TeamManager") as mock_team_mgr:
/usr/local/python/3.11.13/lib/python3.11/unittest/mock.py:1430: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/usr/local/python/3.11.13/lib/python3.11/pkgutil.py:715: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
_____________________________ test_team_status_all _____________________________
tests/test_cli/test_team.py:83: in test_team_status_all
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
______________________ test_team_status_specific_session _______________________
tests/test_cli/test_team.py:103: in test_team_status_specific_session
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
________________________________ test_team_list ________________________________
tests/test_cli/test_team.py:120: in test_team_list
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
_____________________________ test_team_broadcast ______________________________
tests/test_cli/test_team.py:137: in test_team_broadcast
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
______________________ test_team_broadcast_with_failures _______________________
tests/test_cli/test_team.py:149: in test_team_broadcast_with_failures
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
______________________________ test_team_recover _______________________________
tests/test_cli/test_team.py:178: in test_team_recover
    assert result.exit_code == 0
E   assert 1 == 0
E    +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
_____________________________ test_team_coordinate _____________________________
tests/test_cli/test_team.py:188: in test_team_coordinate
    assert result.exit_code == 0
E   assert 2 == 0
E    +  where 2 = <Result SystemExit(2)>.exit_code
____________________________ test_team_group_exists ____________________________
tests/test_cli/test_team.py:206: in test_team_group_exists
    assert expected_commands.issubset(set(command_names))
E   AssertionError: assert False
E    +  where False = <built-in method issubset of set object at 0x7fdb31d934c0>({'deploy', 'broadcast', 'list', 'recover', 'status'})
E    +    where <built-in method issubset of set object at 0x7fdb31d934c0> = {'coordinate', 'deploy', 'recover', 'list', 'status', 'broadcast'}.issubset
E    +    and   {'deploy', 'broadcast', 'list', 'recover', 'status'} = set(['status', 'list', 'broadcast', 'deploy', 'recover'])
__________ TestCheckAgentHealth.test_check_agent_health_healthy_agent __________
tests/test_core/test_recovery/check_agent_health_test.py:32: in test_check_agent_health_healthy_agent
    assert health_status.is_healthy is True
E   assert False is True
E    +  where False = AgentHealthStatus(target='test-session:0', is_healthy=False, is_idle=False, failure_reason="health_check_failed: 'bool' object has no attribute 'get'", last_check=datetime.datetime(2025, 8, 8, 21, 48, 18, 634291), consecutive_failures=1).is_healthy
_________ TestCheckAgentHealth.test_check_agent_health_unhealthy_agent _________
tests/test_core/test_recovery/check_agent_health_test.py:55: in test_check_agent_health_unhealthy_agent
    assert health_status.failure_reason == "critical_error_detected"
E   assert "health_check_failed: 'bool' object has no attribute 'get'" == 'critical_error_detected'
E
E     - critical_error_detected
E     + health_check_failed: 'bool' object has no attribute 'get'
_______ TestCheckAgentHealth.test_check_agent_health_failure_count_reset _______
tests/test_core/test_recovery/check_agent_health_test.py:86: in test_check_agent_health_failure_count_reset
    assert health_status.consecutive_failures == 0
E   assert 3 == 0
E    +  where 3 = AgentHealthStatus(target='test-session:0', is_healthy=False, is_idle=False, failure_reason="health_check_failed: 'bool' object has no attribute 'get'", last_check=datetime.datetime(2025, 8, 8, 21, 48, 18, 666059), consecutive_failures=3).consecutive_failures
__________ TestDetectFailure.test_detect_failure_with_critical_error ___________
tests/test_core/test_recovery/detect_failure_test.py:32: in test_detect_failure_with_critical_error
    assert failure_reason == "critical_error_detected"
E   AssertionError: assert 'Critical errors detected in agent output' == 'critical_error_detected'
E
E     - critical_error_detected
E     + Critical errors detected in agent output
___________ TestDetectFailure.test_detect_failure_with_max_failures ____________
tests/test_core/test_recovery/detect_failure_test.py:52: in test_detect_failure_with_max_failures
    assert failure_reason == "max_consecutive_failures_reached"
E   AssertionError: assert 'Agent failed 3 consecutive health checks' == 'max_consecutive_failures_reached'
E
E     - max_consecutive_failures_reached
E     + Agent failed 3 consecutive health checks
_____ TestDetectFailure.test_detect_failure_with_extended_unresponsiveness _____
tests/test_core/test_recovery/detect_failure_test.py:68: in test_detect_failure_with_extended_unresponsiveness
    assert failure_reason == "extended_unresponsiveness"
E   AssertionError: assert 'Agent unresponsive for 600s (timeout: 60s)' == 'extended_unresponsiveness'
E
E     - extended_unresponsiveness
E     + Agent unresponsive for 600s (timeout: 60s)
_____________ TestDetectFailure.test_detect_failure_healthy_agent ______________
tests/test_core/test_recovery/detect_failure_test.py:83: in test_detect_failure_healthy_agent
    assert failure_reason == "healthy"
E   AssertionError: assert 'Agent is healthy' == 'healthy'
E
E     - healthy
E     + Agent is healthy
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.11.13-final-0 _______________

Name                                                          Stmts   Miss  Cover   Missing
-------------------------------------------------------------------------------------------
tmux_orchestrator/__init__.py                                     3      0   100%
tmux_orchestrator/cli/__init__.py                               147     89    39%   44-58, 99-125, 165-215, 271-284, 303-310, 317-318, 325-326, 333-334, 341-342, 349-350, 357-362, 370
tmux_orchestrator/cli/agent.py                                  129     56    57%   68-78, 114-123, 158-159, 200-209, 214, 253-256, 298-324, 362-392
tmux_orchestrator/cli/deploy.py                                   0      0   100%
tmux_orchestrator/cli/execute.py                                 98     79    19%   71-284
tmux_orchestrator/cli/monitor.py                                221    158    29%   85-87, 90-92, 132-135, 170-180, 218-227, 269-301, 307-321, 363-441, 449-459, 520-616
tmux_orchestrator/cli/orchestrator.py                           283    236    17%   43, 91-151, 200-236, 288-367, 422-489, 539-556, 609-719, 787-827
tmux_orchestrator/cli/pm.py                                     122     91    25%   38, 70-75, 106-118, 152-161, 192-200, 240-307, 360-412
tmux_orchestrator/cli/pubsub.py                                 192    150    22%   34, 73-127, 160-196, 226-265, 279-340, 345-365, 370-385, 390-402
tmux_orchestrator/cli/recovery.py                               217    177    18%   38, 78-112, 124-162, 179-249, 295-387, 392-443, 455-503
tmux_orchestrator/cli/setup.py                                  118     71    40%   19, 33-79, 91-110, 118-161, 173-234, 517, 559-590
tmux_orchestrator/cli/setup_claude.py                           221    149    33%   63-96, 105, 113-116, 145-293, 365-380, 396-482
tmux_orchestrator/cli/tasks.py                                  324    130    60%   24, 129-131, 134-140, 228-229, 247-248, 260-283, 288-298, 305-332, 356-357, 361-362, 374-375, 475-565, 586-587, 594-599, 623-624, 666, 668, 674-676, 694-702, 711, 739-755
tmux_orchestrator/cli/team.py                                   117     70    40%   84-127, 163-189, 236-260, 334-362, 417-420
tmux_orchestrator/cli/team_compose.py                           244    244     0%   3-687
tmux_orchestrator/core/__init__.py                                0      0   100%
tmux_orchestrator/core/agent_manager.py                          76     64    16%   96, 106-145, 150-166, 170-173, 177-194, 199-215, 220-233
tmux_orchestrator/core/agent_operations.py                       21     21     0%   3-50
tmux_orchestrator/core/agent_operations/__init__.py               2      0   100%
tmux_orchestrator/core/agent_operations/restart_agent.py         20      0   100%
tmux_orchestrator/core/config.py                                 83     59    29%   22, 27-52, 57-61, 66-74, 78-87, 91-99, 103-109, 114-117, 122-123, 128, 133, 137-141
tmux_orchestrator/core/monitor.py                               225    171    24%   44-52, 60-71, 75-85, 94-96, 102-117, 124-137, 141-154, 158-170, 174-176, 180-233, 238-250, 254-264, 268-285, 290-304, 308-340, 344-362, 366-370, 374-381
tmux_orchestrator/core/pm_manager.py                             95     95     0%   3-227
tmux_orchestrator/core/recovery/__init__.py                      13      0   100%
tmux_orchestrator/core/recovery/auto_restart.py                 123    114     7%   51-181, 187-212, 217-257
tmux_orchestrator/core/recovery/briefing_manager.py             130    118     9%   49-145, 156-201, 206-224, 229, 277, 282-302, 313-351, 362-381
tmux_orchestrator/core/recovery/check_agent_health.py            22      3    86%   73-78
tmux_orchestrator/core/recovery/detect_failure.py                59      5    92%   85-96, 273-274
tmux_orchestrator/core/recovery/discover_agents.py               52      0   100%
tmux_orchestrator/core/recovery/notification_manager.py         172    159     8%   49-168, 177-179, 184-204, 214-238, 276-385, 390-418, 423-446
tmux_orchestrator/core/recovery/recovery_coordinator.py         132    122     8%   62-370, 399-435
tmux_orchestrator/core/recovery/recovery_daemon.py              196    171    13%   45-66, 70-97, 101-120, 124-195, 199-216, 220-280, 284-318, 323-349, 353-382, 386-390, 404-414, 424-426, 430-448, 470-479, 483
tmux_orchestrator/core/recovery/recovery_logger.py              181    165     9%   45-86, 118-171, 176-201, 206-229, 234-246, 251-299, 328-371, 376-422, 427-443, 454-470
tmux_orchestrator/core/recovery/recovery_test.py                223    202     9%   27-34, 51-119, 123-161, 165-220, 224-271, 275-319, 323-372, 376-428, 432-458, 462-508, 528-538
tmux_orchestrator/core/recovery/restart_agent.py                 24     20    17%   27-58
tmux_orchestrator/core/recovery/restore_context.py               31      0   100%
tmux_orchestrator/core/recovery_daemon.py                       161    161     0%   3-316
tmux_orchestrator/core/status.py                                 57     57     0%   3-102
tmux_orchestrator/core/team_operations/__init__.py                4      0   100%
tmux_orchestrator/core/team_operations/broadcast_to_team.py      24      0   100%
tmux_orchestrator/core/team_operations/deploy_team.py           136    118    13%   21-61, 66-87, 92-113, 118-141, 146-161, 166-181, 186-229, 246, 251, 257-287, 295-318
tmux_orchestrator/core/team_operations/get_team_status.py        54      1    98%   97
tmux_orchestrator/core/team_operations/list_all_teams.py         20      0   100%
tmux_orchestrator/sdk/__init__.py                               101     80    21%   20-23, 27, 39-46, 50-63, 67-73, 77-92, 96-104, 108-119, 123-130, 134-146, 150-162, 166-179, 183-188, 192-193, 197-198
tmux_orchestrator/server/__init__.py                             28      7    75%   138, 175, 180-184, 194
tmux_orchestrator/server/middleware.py                           20     12    40%   17-42
tmux_orchestrator/server/models/__init__.py                       6      0   100%
tmux_orchestrator/server/models/agent_models.py                  67      0   100%
tmux_orchestrator/server/models/communication_models.py          62      0   100%
tmux_orchestrator/server/models/coordination_models.py           66      0   100%
tmux_orchestrator/server/models/monitoring_models.py             66      0   100%
tmux_orchestrator/server/models/task_models.py                   71      0   100%
tmux_orchestrator/server/routes/agent_management.py              60     36    40%   48-65, 83-95, 109-119, 136-157, 167-178, 184-185
tmux_orchestrator/server/routes/communication.py                132     73    45%   155-166, 176-230, 242-264, 276-305, 317-336
tmux_orchestrator/server/routes/coordination.py                 141     83    41%   102-158, 167-215, 224-238, 247-264, 273-280, 289-364
tmux_orchestrator/server/routes/monitoring.py                   148     87    41%   143-166, 176-198, 208-252, 262-299, 315-336, 346-380
tmux_orchestrator/server/routes/tasks.py                         55     24    56%   56-74, 83-96, 105-114
tmux_orchestrator/server/tools/__init__.py                        0      0   100%
tmux_orchestrator/server/tools/get_session_status.py             50     23    54%   34-55, 94-149
tmux_orchestrator/server/tools/restart_agent.py                  49     33    33%   43-126
tmux_orchestrator/server/tools/send_message.py                   29     14    52%   43-85
tmux_orchestrator/server/tools/spawn_agent.py                    41      1    98%   112
tmux_orchestrator/utils/__init__.py                               0      0   100%
tmux_orchestrator/utils/tmux.py                                 114     94    18%   16-17, 21-22, 31-38, 42-47, 51-52, 57-75, 79-83, 87-109, 113-137, 141-181, 185-202, 206-207, 211-219, 223-224
-------------------------------------------------------------------------------------------
TOTAL                                                          6078   4093    33%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
=========================== short test summary info ============================
FAILED tests/test_cli/test_execute.py::test_execute_with_prd_file - AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
FAILED tests/test_cli/test_execute.py::test_execute_existing_project - AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
FAILED tests/test_cli/test_execute.py::test_execute_with_team_type - AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
FAILED tests/test_cli/test_execute.py::test_execute_skip_team_planning - AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
FAILED tests/test_cli/test_execute.py::test_execute_with_agent_count - AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
FAILED tests/test_cli/test_execute.py::test_execute_nonexistent_file - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_execute.py::test_execute_distribute_tasks - AttributeError: <module 'tmux_orchestrator.cli.execute' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/execute.py'> does not have the attribute 'generate_tasks_from_prd'
FAILED tests/test_cli/test_execute.py::test_execute_function_exists - AssertionError: assert 'agents' in ['prd_file', 'project_name', 'team_size', 'team_type', 'no_monitor', 'skip_planning']
FAILED tests/test_cli/test_monitor.py::test_monitor_start_success - AttributeError: <module 'tmux_orchestrator.cli.monitor' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py'> does not have the attribute 'run_monitor_loop'
FAILED tests/test_cli/test_monitor.py::test_monitor_start_already_running - AssertionError: assert 1 == 0
 +  where 1 = <Result FileNotFoundError('Monitor script not found: /workspaces/Tmux-Orchestrator/commands/idle-monitor-daemon.sh')>.exit_code
FAILED tests/test_cli/test_monitor.py::test_monitor_stop_success - AssertionError: assert 'Stopping monitor daemon' in 'Monitor is not running\n'
 +  where 'Monitor is not running\n' = <Result okay>.output
FAILED tests/test_cli/test_monitor.py::test_monitor_status_running - AssertionError: assert '12345' in '\u2717 Monitor is not running\n'
 +  where '\u2717 Monitor is not running\n' = <Result okay>.output
FAILED tests/test_cli/test_monitor.py::test_monitor_restart - AttributeError: <module 'tmux_orchestrator.cli.monitor' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py'> does not have the attribute 'run_monitor_loop'
FAILED tests/test_cli/test_monitor.py::test_monitor_check_once - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_monitor.py::test_monitor_loop_function - ImportError: cannot import name 'run_monitor_loop' from 'tmux_orchestrator.cli.monitor' (/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py)
FAILED tests/test_cli/test_monitor.py::test_monitor_with_custom_interval - AttributeError: <module 'tmux_orchestrator.cli.monitor' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/monitor.py'> does not have the attribute 'run_monitor_loop'
FAILED tests/test_cli/test_monitor.py::test_monitor_group_exists - AssertionError: assert False
 +  where False = <built-in method issubset of set object at 0x7fdb31d91a80>({'recovery-logs', 'recovery-status', 'start', 'recovery-start', 'logs', 'dashboard', 'status', 'stop', 'recovery-stop'})
 +    where <built-in method issubset of set object at 0x7fdb31d91a80> = {'restart', 'check', 'status', 'start', 'stop'}.issubset
 +    and   {'recovery-logs', 'recovery-status', 'start', 'recovery-start', 'logs', 'dashboard', 'status', 'stop', 'recovery-stop'} = set(['start', 'stop', 'logs', 'status', 'recovery-start', 'recovery-stop', 'recovery-status', 'recovery-logs', 'dashboard'])
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_start_new_session - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_start_existing_session - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_stop - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_stop_not_running - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_restart - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_status_running - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_status_not_running - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_attach - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_attach_not_running - AttributeError: Mock object has no attribute 'session_exists'
FAILED tests/test_cli/test_orchestrator.py::test_orchestrator_group_exists - AssertionError: assert False
 +  where False = <built-in method issubset of set object at 0x7fdb31d927a0>({'schedule', 'kill', 'start', 'broadcast', 'list', 'status', 'kill-all'})
 +    where <built-in method issubset of set object at 0x7fdb31d927a0> = {'restart', 'attach', 'status', 'start', 'stop'}.issubset
 +    and   {'schedule', 'kill', 'start', 'broadcast', 'list', 'status', 'kill-all'} = set(['start', 'schedule', 'status', 'list', 'kill', 'kill-all', 'broadcast'])
FAILED tests/test_cli/test_recovery.py::test_recovery_check_all_healthy - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_recovery.py::test_recovery_check_with_unhealthy - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_recovery.py::test_recovery_check_auto_restart - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_recovery.py::test_recovery_discover - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_recovery.py::test_recovery_restore_specific_agent - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_recovery.py::test_recovery_restore_all_in_session - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_recovery.py::test_recovery_history - AttributeError: <module 'tmux_orchestrator.core.recovery' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/core/recovery/__init__.py'> does not have the attribute 'get_recovery_history'
FAILED tests/test_cli/test_recovery.py::test_recovery_history_specific_session - AttributeError: <module 'tmux_orchestrator.core.recovery' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/core/recovery/__init__.py'> does not have the attribute 'get_recovery_history'
FAILED tests/test_cli/test_recovery.py::test_recovery_group_exists - AssertionError: assert False
 +  where False = <built-in method issubset of set object at 0x7fdb3226b300>({'start', 'status', 'stop', 'test'})
 +    where <built-in method issubset of set object at 0x7fdb3226b300> = {'check', 'history', 'restore', 'discover'}.issubset
 +    and   {'start', 'status', 'stop', 'test'} = set(['start', 'stop', 'status', 'test'])
FAILED tests/test_cli/test_tasks.py::test_tasks_create_with_prd_import - assert 'Imported PRD from' in "  Created initial files\n\u2713 Created project structure for 'test-project'\n\nProject location: /tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project\n\nNext steps:\n1. Edit the PRD: \n/tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project/prd.md\n2. Generate tasks: tmux-orc tasks generate test-project\n3. Distribute tasks: tmux-orc tasks distribute test-project\n"
 +  where "  Created initial files\n\u2713 Created project structure for 'test-project'\n\nProject location: /tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project\n\nNext steps:\n1. Edit the PRD: \n/tmp/tmp8w_70lcv/.tmux_orchestrator/projects/test-project/prd.md\n2. Generate tasks: tmux-orc tasks generate test-project\n3. Distribute tasks: tmux-orc tasks distribute test-project\n" = <Result okay>.output
FAILED tests/test_cli/test_tasks.py::test_tasks_create_existing_project - assert 'Project test-project already exists' in "Project 'test-project' already exists\n"
 +  where "Project 'test-project' already exists\n" = <Result okay>.output
FAILED tests/test_cli/test_tasks.py::test_tasks_status_nonexistent_project - assert 'Project nonexistent not found' in "Project 'nonexistent' not found\n"
 +  where "Project 'nonexistent' not found\n" = <Result okay>.output
FAILED tests/test_cli/test_tasks.py::test_tasks_distribute - AssertionError: assert 'Distributed tasks for test-project' in 'Distributing 4 tasks across teams...\n  \u2713 Created frontend task list (2 tasks)\n  \u2713 Created backend task list (2 tasks)\n  \u2713 Created qa task list (1 tasks)\n  \u2713 Created test task list (1 tasks)\n\n\u2713 Task distribution complete\n\nNext steps:\n1. Review agent task assignments\n2. Send task files to respective agents\n3. Monitor progress with: tmux-orc tasks status test-project\n'
 +  where 'Distributing 4 tasks across teams...\n  \u2713 Created frontend task list (2 tasks)\n  \u2713 Created backend task list (2 tasks)\n  \u2713 Created qa task list (1 tasks)\n  \u2713 Created test task list (1 tasks)\n\n\u2713 Task distribution complete\n\nNext steps:\n1. Review agent task assignments\n2. Send task files to respective agents\n3. Monitor progress with: tmux-orc tasks status test-project\n' = <Result okay>.output
FAILED tests/test_cli/test_tasks.py::test_tasks_export - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_tasks.py::test_tasks_archive - assert 'Archived test-project' in "\u2713 Archived 'test-project' to 'test-project-20250808-214817'\n"
 +  where "\u2713 Archived 'test-project' to 'test-project-20250808-214817'\n" = <Result okay>.output
FAILED tests/test_cli/test_tasks.py::test_tasks_generate - AttributeError: <module 'tmux_orchestrator.cli.tasks' from '/workspaces/Tmux-Orchestrator/tmux_orchestrator/cli/tasks.py'> does not have the attribute 'generate_tasks_from_prd'
FAILED tests/test_cli/test_team.py::test_team_deploy_frontend - AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
FAILED tests/test_cli/test_team.py::test_team_deploy_backend - AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
FAILED tests/test_cli/test_team.py::test_team_deploy_custom - AttributeError: module 'tmux_orchestrator.core' has no attribute 'team_manager'
FAILED tests/test_cli/test_team.py::test_team_status_all - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_team.py::test_team_status_specific_session - assert 1 == 0
 +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
FAILED tests/test_cli/test_team.py::test_team_list - assert 1 == 0
 +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
FAILED tests/test_cli/test_team.py::test_team_broadcast - assert 1 == 0
 +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
FAILED tests/test_cli/test_team.py::test_team_broadcast_with_failures - assert 1 == 0
 +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
FAILED tests/test_cli/test_team.py::test_team_recover - assert 1 == 0
 +  where 1 = <Result TypeError("'Mock' object is not iterable")>.exit_code
FAILED tests/test_cli/test_team.py::test_team_coordinate - assert 2 == 0
 +  where 2 = <Result SystemExit(2)>.exit_code
FAILED tests/test_cli/test_team.py::test_team_group_exists - AssertionError: assert False
 +  where False = <built-in method issubset of set object at 0x7fdb31d934c0>({'deploy', 'broadcast', 'list', 'recover', 'status'})
 +    where <built-in method issubset of set object at 0x7fdb31d934c0> = {'coordinate', 'deploy', 'recover', 'list', 'status', 'broadcast'}.issubset
 +    and   {'deploy', 'broadcast', 'list', 'recover', 'status'} = set(['status', 'list', 'broadcast', 'deploy', 'recover'])
FAILED tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_healthy_agent - assert False is True
 +  where False = AgentHealthStatus(target='test-session:0', is_healthy=False, is_idle=False, failure_reason="health_check_failed: 'bool' object has no attribute 'get'", last_check=datetime.datetime(2025, 8, 8, 21, 48, 18, 634291), consecutive_failures=1).is_healthy
FAILED tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_unhealthy_agent - assert "health_check_failed: 'bool' object has no attribute 'get'" == 'critical_error_detected'

  - critical_error_detected
  + health_check_failed: 'bool' object has no attribute 'get'
FAILED tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_failure_count_reset - assert 3 == 0
 +  where 3 = AgentHealthStatus(target='test-session:0', is_healthy=False, is_idle=False, failure_reason="health_check_failed: 'bool' object has no attribute 'get'", last_check=datetime.datetime(2025, 8, 8, 21, 48, 18, 666059), consecutive_failures=3).consecutive_failures
FAILED tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_critical_error - AssertionError: assert 'Critical errors detected in agent output' == 'critical_error_detected'

  - critical_error_detected
  + Critical errors detected in agent output
FAILED tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_max_failures - AssertionError: assert 'Agent failed 3 consecutive health checks' == 'max_consecutive_failures_reached'

  - max_consecutive_failures_reached
  + Agent failed 3 consecutive health checks
FAILED tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_extended_unresponsiveness - AssertionError: assert 'Agent unresponsive for 600s (timeout: 60s)' == 'extended_unresponsiveness'

  - extended_unresponsiveness
  + Agent unresponsive for 600s (timeout: 60s)
FAILED tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_healthy_agent - AssertionError: assert 'Agent is healthy' == 'healthy'

  - healthy
  + Agent is healthy
ERROR tests/test_integration/test_end_to_end.py::test_complete_prd_workflow - AttributeError: Mock object has no attribute 'session_exists'
ERROR tests/test_integration/test_end_to_end.py::test_task_management_workflow - AttributeError: Mock object has no attribute 'session_exists'
ERROR tests/test_integration/test_end_to_end.py::test_team_deployment_and_recovery - AttributeError: Mock object has no attribute 'session_exists'
ERROR tests/test_integration/test_end_to_end.py::test_monitoring_workflow - AttributeError: Mock object has no attribute 'session_exists'
ERROR tests/test_integration/test_end_to_end.py::test_agent_communication_workflow - AttributeError: Mock object has no attribute 'session_exists'
ERROR tests/test_integration/test_end_to_end.py::test_project_archival_workflow - AttributeError: Mock object has no attribute 'session_exists'
============ 61 failed, 119 passed, 12 warnings, 6 errors in 22.65s ============
