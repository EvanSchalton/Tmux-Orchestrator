============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /usr/local/python/current/bin/python
cachedir: .pytest_cache
rootdir: /workspaces/Tmux-Orchestrator
configfile: pytest.ini
plugins: anyio-3.7.1, cov-6.2.1
collecting ... collected 183 items

tests/test_cli/agent_test.py::test_agent_restart_success PASSED          [  0%]
tests/test_cli/agent_test.py::test_agent_restart_failure PASSED          [  1%]
tests/test_cli/agent_test.py::test_agent_message_success PASSED          [  1%]
tests/test_cli/agent_test.py::test_agent_message_failure PASSED          [  2%]
tests/test_cli/agent_test.py::test_agent_attach_success PASSED           [  2%]
tests/test_cli/agent_test.py::test_agent_deploy_success PASSED           [  3%]
tests/test_cli/agent_test.py::test_agent_status_success PASSED           [  3%]
tests/test_cli/agent_test.py::test_agent_group_exists PASSED             [  4%]
tests/test_cli/agent_test.py::test_restart_function_direct PASSED        [  4%]
tests/test_cli/agent_test.py::test_message_function_direct PASSED        [  5%]
tests/test_cli/test_execute.py::test_execute_with_prd_file FAILED        [  6%]
tests/test_cli/test_execute.py::test_execute_existing_session PASSED     [  6%]
tests/test_cli/test_execute.py::test_execute_with_team_type FAILED       [  7%]
tests/test_cli/test_execute.py::test_execute_skip_team_planning FAILED   [  7%]
tests/test_cli/test_execute.py::test_execute_with_team_size FAILED       [  8%]
tests/test_cli/test_execute.py::test_execute_nonexistent_file PASSED     [  8%]
tests/test_cli/test_execute.py::test_execute_project_creation FAILED     [  9%]
tests/test_cli/test_execute.py::test_execute_function_exists PASSED      [  9%]
tests/test_cli/test_monitor.py::test_monitor_start_success PASSED        [ 10%]
tests/test_cli/test_monitor.py::test_monitor_start_already_running PASSED [ 10%]
tests/test_cli/test_monitor.py::test_monitor_stop_success PASSED         [ 11%]
tests/test_cli/test_monitor.py::test_monitor_stop_not_running PASSED     [ 12%]
tests/test_cli/test_monitor.py::test_monitor_status_running PASSED       [ 12%]
tests/test_cli/test_monitor.py::test_monitor_status_not_running PASSED   [ 13%]
tests/test_cli/test_monitor.py::test_monitor_dashboard PASSED            [ 13%]
tests/test_cli/test_monitor.py::test_monitor_logs PASSED                 [ 14%]
tests/test_cli/test_monitor.py::test_monitor_with_custom_interval PASSED [ 14%]
tests/test_cli/test_monitor.py::test_monitor_group_exists PASSED         [ 15%]
tests/test_cli/test_orchestrator.py::test_orchestrator_start_new_session FAILED [ 15%]
tests/test_cli/test_orchestrator.py::test_orchestrator_start_existing_session FAILED [ 16%]
tests/test_cli/test_orchestrator.py::test_orchestrator_stop FAILED       [ 16%]
tests/test_cli/test_orchestrator.py::test_orchestrator_stop_not_running FAILED [ 17%]
tests/test_cli/test_orchestrator.py::test_orchestrator_restart FAILED    [ 18%]
tests/test_cli/test_orchestrator.py::test_orchestrator_status_running FAILED [ 18%]
tests/test_cli/test_orchestrator.py::test_orchestrator_status_not_running FAILED [ 19%]
tests/test_cli/test_orchestrator.py::test_orchestrator_attach FAILED     [ 19%]
tests/test_cli/test_orchestrator.py::test_orchestrator_attach_not_running FAILED [ 20%]
tests/test_cli/test_orchestrator.py::test_orchestrator_group_exists FAILED [ 20%]
tests/test_cli/test_recovery.py::test_recovery_start_daemon PASSED       [ 21%]
tests/test_cli/test_recovery.py::test_recovery_stop_daemon PASSED        [ 21%]
tests/test_cli/test_recovery.py::test_recovery_status PASSED             [ 22%]
tests/test_cli/test_recovery.py::test_recovery_test_single_agent PASSED  [ 22%]
tests/test_cli/test_recovery.py::test_recovery_test_comprehensive PASSED [ 23%]
tests/test_cli/test_recovery.py::test_recovery_test_no_restart PASSED    [ 24%]
tests/test_cli/test_recovery.py::test_recovery_group_exists PASSED       [ 24%]
tests/test_cli/test_setup.py::test_setup_command PASSED                  [ 25%]
tests/test_cli/test_setup.py::test_setup_tmux_not_installed PASSED       [ 25%]
tests/test_cli/test_setup.py::test_setup_vscode_creates_structure PASSED [ 26%]
tests/test_cli/test_setup.py::test_setup_vscode_existing_tasks PASSED    [ 26%]
tests/test_cli/test_setup.py::test_setup_vscode_with_project_path PASSED [ 27%]
tests/test_cli/test_setup.py::test_setup_vscode_invalid_json PASSED      [ 27%]
tests/test_cli/test_tasks.py::test_tasks_create_new_project PASSED       [ 28%]
tests/test_cli/test_tasks.py::test_tasks_create_with_prd_import PASSED   [ 28%]
tests/test_cli/test_tasks.py::test_tasks_create_existing_project PASSED  [ 29%]
tests/test_cli/test_tasks.py::test_tasks_status PASSED                   [ 30%]
tests/test_cli/test_tasks.py::test_tasks_status_nonexistent_project PASSED [ 30%]
tests/test_cli/test_tasks.py::test_tasks_list PASSED                     [ 31%]
tests/test_cli/test_tasks.py::test_tasks_distribute PASSED               [ 31%]
tests/test_cli/test_tasks.py::test_tasks_export FAILED                   [ 32%]
tests/test_cli/test_tasks.py::test_tasks_archive FAILED                  [ 32%]
tests/test_cli/test_tasks.py::test_tasks_generate PASSED                 [ 33%]
tests/test_cli/test_tasks.py::test_tasks_group_exists PASSED             [ 33%]
tests/test_cli/test_team.py::test_team_deploy_frontend FAILED            [ 34%]
tests/test_cli/test_team.py::test_team_deploy_backend PASSED             [ 34%]
tests/test_cli/test_team.py::test_team_deploy_fullstack PASSED           [ 35%]
tests/test_cli/test_team.py::test_team_status_all FAILED                 [ 36%]
tests/test_cli/test_team.py::test_team_status_specific_session FAILED    [ 36%]
tests/test_cli/test_team.py::test_team_list FAILED                       [ 37%]
tests/test_cli/test_team.py::test_team_broadcast FAILED                  [ 37%]
tests/test_cli/test_team.py::test_team_broadcast_with_failures FAILED    [ 38%]
tests/test_cli/test_team.py::test_team_recover FAILED                    [ 38%]
tests/test_cli/test_team.py::test_team_compose PASSED                    [ 39%]
tests/test_cli/test_team.py::test_team_group_exists PASSED               [ 39%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_success PASSED [ 40%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_invalid_target_format PASSED [ 40%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_session_not_found PASSED [ 41%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_target_parsing[frontend:0-frontend-0] PASSED [ 42%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_target_parsing[backend-dev:1-backend-dev-1] PASSED [ 42%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_target_parsing[project-manager:10-project-manager-10] PASSED [ 43%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_empty_target PASSED [ 43%]
tests/test_core/test_agent_operations/restart_agent_test.py::test_restart_agent_colon_only_target PASSED [ 44%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_healthy_agent PASSED [ 44%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_unhealthy_agent PASSED [ 45%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_invalid_target_format PASSED [ 45%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_failure_count_reset PASSED [ 46%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_check_agent_health_exception_handling PASSED [ 46%]
tests/test_core/test_recovery/check_agent_health_test.py::TestCheckAgentHealth::test_agent_health_status_namedtuple_structure PASSED [ 47%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_critical_error FAILED [ 48%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_max_failures FAILED [ 48%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_with_extended_unresponsiveness FAILED [ 49%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_healthy_agent FAILED [ 49%]
tests/test_core/test_recovery/detect_failure_test.py::TestDetectFailure::test_detect_failure_invalid_target_format PASSED [ 50%]
tests/test_core/test_recovery/detect_failure_test.py::TestCheckIdleStatusV2::test_check_idle_status_agent_is_idle PASSED [ 50%]
tests/test_core/test_recovery/detect_failure_test.py::TestCheckIdleStatusV2::test_check_idle_status_agent_is_active PASSED [ 51%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasCriticalErrors::test_has_critical_errors_with_error PASSED [ 51%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasCriticalErrors::test_has_critical_errors_without_error PASSED [ 52%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasCriticalErrors::test_has_critical_errors_case_insensitive PASSED [ 53%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasNormalClaudeInterface::test_has_normal_claude_interface_with_prompt PASSED [ 53%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasNormalClaudeInterface::test_has_normal_claude_interface_with_assistant_marker PASSED [ 54%]
tests/test_core/test_recovery/detect_failure_test.py::TestHasNormalClaudeInterface::test_has_normal_claude_interface_without_markers PASSED [ 54%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_finds_claude_agents PASSED [ 55%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_excludes_sessions PASSED [ 55%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_empty_sessions PASSED [ 56%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_exception_handling PASSED [ 56%]
tests/test_core/test_recovery/discover_agents_test.py::TestDiscoverAgents::test_discover_agents_default_excludes PASSED [ 57%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_strong_indicators PASSED [ 57%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_medium_indicators PASSED [ 58%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_claude_name_and_medium PASSED [ 59%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_with_insufficient_indicators PASSED [ 59%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_empty_content PASSED [ 60%]
tests/test_core/test_recovery/discover_agents_test.py::TestIsClaudeAgent::test_is_claude_agent_exception_handling PASSED [ 60%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_success PASSED [ 61%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_send_message_failure PASSED [ 61%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_invalid_target_format PASSED [ 62%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_with_context_data PASSED [ 62%]
tests/test_core/test_recovery/restore_context_test.py::TestRestoreContext::test_restore_context_exception_handling PASSED [ 63%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_basic PASSED [ 63%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_with_context_data PASSED [ 64%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_contains_timestamp PASSED [ 65%]
tests/test_core/test_recovery/restore_context_test.py::TestBuildContextMessage::test_build_context_message_empty_context_data PASSED [ 65%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_success PASSED [ 66%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_session_not_found PASSED [ 66%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_no_agents PASSED [ 67%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_partial_failure PASSED [ 67%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_all_failures PASSED [ 68%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names0-0] PASSED [ 68%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names1-1] PASSED [ 69%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names2-1] PASSED [ 69%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names3-2] PASSED [ 70%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names4-2] PASSED [ 71%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_agent_detection[window_names5-2] PASSED [ 71%]
tests/test_core/test_team_operations/broadcast_to_team_test.py::test_broadcast_to_team_result_structure PASSED [ 72%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_success PASSED [ 72%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_session_not_found PASSED [ 73%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_session_info_not_found PASSED [ 73%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_no_windows PASSED [ 74%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Claude-Frontend-Frontend Dev] PASSED [ 74%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[claude-backend-Backend Dev] PASSED [ 75%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[PM-Window-Project Manager] PASSED [ 75%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[qa-test-QA Engineer] PASSED [ 76%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Dev-Server-Dev Server] PASSED [ 77%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Shell-Window-Shell] PASSED [ 77%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_type[Random-Window-Other] PASSED [ 78%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Working on code...-False-Active-Working...] PASSED [ 78%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Waiting for input-True-Idle-Waiting for task] PASSED [ 79%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Error: failed to compile-False-Error-Has errors] PASSED [ 79%]
tests/test_core/test_team_operations/get_team_status_test.py::test_determine_window_status[Task completed successfully-False-Complete-Task completed] PASSED [ 80%]
tests/test_core/test_team_operations/get_team_status_test.py::test_get_team_status_agent_counting PASSED [ 80%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_success PASSED [ 81%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_empty PASSED [ 81%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_no_windows PASSED [ 82%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names0-0] PASSED [ 83%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names1-0] PASSED [ 83%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names2-1] PASSED [ 84%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names3-1] PASSED [ 84%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names4-2] PASSED [ 85%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_agent_counting[window_names5-2] PASSED [ 85%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[1-Active] PASSED [ 86%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[0-Detached] PASSED [ 86%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[None-Active] PASSED [ 87%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_status_determination[-Active] PASSED [ 87%]
tests/test_core/test_team_operations/list_all_teams_test.py::test_list_all_teams_missing_created_field PASSED [ 88%]
tests/test_integration/test_end_to_end.py::test_complete_prd_workflow FAILED [ 89%]
tests/test_integration/test_end_to_end.py::test_task_management_workflow FAILED [ 89%]
tests/test_integration/test_end_to_end.py::test_team_deployment_and_recovery FAILED [ 90%]
tests/test_integration/test_end_to_end.py::test_monitoring_workflow FAILED [ 90%]
tests/test_integration/test_end_to_end.py::test_agent_communication_workflow PASSED [ 91%]
tests/test_integration/test_end_to_end.py::test_project_archival_workflow FAILED [ 91%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_empty_session_name PASSED [ 92%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_invalid_agent_type PASSED [ 92%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_new_session_success PASSED [ 93%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_existing_session_success PASSED [ 93%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_session_creation_fails PASSED [ 94%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_window_creation_fails PASSED [ 95%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_send_keys_fails PASSED [ 95%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_exception_handling PASSED [ 96%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[developer] PASSED [ 96%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[pm] PASSED [ 97%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[qa] PASSED [ 97%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[devops] PASSED [ 98%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[reviewer] PASSED [ 98%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[researcher] PASSED [ 99%]
tests/test_server/test_tools/spawn_agent_test.py::TestSpawnAgent::test_spawn_agent_all_valid_types[docs] PASSED [100%]
